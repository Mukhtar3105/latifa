<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Латифа — 1 годик — Тұсаукесер</title>

  <!-- Шрифты: благородная каллиграфия + классическая гарнитура -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;500;600&family=Great+Vibes&display=swap" rel="stylesheet">

  <style>
    :root{
      --ink:#2b2b2b;
      --muted:#6d6d6d;
      --rose:#b47a86;
      --rose2:#a96f7a;
      --card: rgba(255,255,255,.58);
      --card2: rgba(255,255,255,.42);
      --border: rgba(45,45,45,.28);
      --shadow: 0 10px 30px rgba(0,0,0,.08);
      --radius: 999px;
      --maxw: 540px;
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      color:var(--ink);
      font-family: "Cormorant Garamond", serif;
      background:#fff;
      overflow-x:hidden;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    /* Background */
    .bg{
      position:fixed;
      inset:0;
      background: url("./Background.png") center/cover no-repeat fixed;
      z-index:-5;
    }
    .veil{
      position:fixed;
      inset:0;
      background:
        radial-gradient(1200px 800px at 50% 35%, rgba(255,255,255,.55), rgba(255,255,255,.12));
      z-index:-4;
      pointer-events:none;
    }

    /* Layout */
    .wrap{
      width:min(var(--maxw), 92vw);
      margin:0 auto;
      padding: 0 0 76px;
    }

    section{
      position:relative;
      padding: 26px 10px;
      margin: 16px auto;
    }
    .center{ text-align:center; }

    /* Animations */
    .fade{
      opacity:0;
      transform: translateY(12px);
      animation: fadeUp .9s ease forwards;
    }
    .fade.d2{ animation-delay:.12s; }
    .fade.d3{ animation-delay:.24s; }
    .fade.d4{ animation-delay:.36s; }

    @keyframes fadeUp{
      to{ opacity:1; transform: translateY(0); }
    }

    /* Decorations */
    .decor{
      position:absolute;
      pointer-events:none;
      user-select:none;
      z-index:0;
      will-change: transform;
    }

    /* ✅ HERO (чтобы на телефоне было как референс) */
    .hero{
      min-height: 100svh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding-top: 26px;
      padding-bottom: 12px;
      margin-top: 0;
    }
    .hero-inner{
      width:100%;
      position:relative;
      padding-top: 40px;
    }

    /* ✅ element_5 — фон/украшение сверху в шапке */
    .hero-decor{
      position:absolute;
      left:50%;
      top:-70px;
      transform: translateX(-50%);
      width: min(760px, 120vw);
      max-width: 760px;
      opacity:.98;
      z-index:0;
      filter: drop-shadow(0 10px 26px rgba(0,0,0,.06));
    }

    /* Границы/карты */
    .card{
      position:relative;
      background: var(--card);
      border: 1px solid rgba(0,0,0,.10);
      border-radius: 22px;
      padding: 22px 18px;
      box-shadow: var(--shadow);
      z-index:1;
      backdrop-filter: blur(2px);
    }
    .card.soft{
      background: transparent;
      border: none;
      box-shadow:none;
      backdrop-filter:none;
      padding: 0;
    }

    /* Gentle floating animation */
    @keyframes floaty{
      0%,100%{ transform: translate3d(0,0,0); }
      50%{ transform: translate3d(0,-10px,0); }
    }
    .float{ animation: floaty 6.5s ease-in-out infinite; }
    .float.slow{ animation-duration: 8.2s; }
    .float.fast{ animation-duration: 5.2s; }

    /* Typography like screenshots */
    .script{
      font-family: "Great Vibes", cursive;
      color: var(--rose);
      letter-spacing: .5px;
      text-shadow: 0 6px 22px rgba(180,122,134,.10);
    }
    .title-name{
      font-size: clamp(44px, 9.5vw, 64px);
      margin: 8px 0 8px;
      line-height:1;
    }
    .caps{
      text-transform: uppercase;
      letter-spacing: .14em;
      font-size: 18px;
      color: var(--rose2);
      margin: 0;
    }
    .caps.big{
      font-size: 20px;
      margin-top: 14px;
    }
    .caps.black{
      color: rgba(0,0,0,.72);
    }
    .divider{
      height:1px;
      width:min(340px, 82%);
      margin: 14px auto;
      background: rgba(0,0,0,.18);
    }

    /* Scroll hint butterfly */
    .scroll-butterfly{
      width: 78px;
      margin: 12px auto 0;
      display:block;
      filter: drop-shadow(0 10px 18px rgba(0,0,0,.08));
      animation: bob 2.6s ease-in-out infinite;
    }
    @keyframes bob{
      0%,100%{ transform: translateY(0); opacity:.95; }
      50%{ transform: translateY(7px); opacity:1; }
    }

    /* Side decors (под референс, но чтобы не ломалось на телефоне) */
    .d-flower-left{
      width: min(220px, 44vw);
      left: max(-48px, -10vw);
      bottom: -18px;
      opacity:.96;
      z-index:0;
    }
    .d-flower-right{
      width: min(230px, 48vw);
      right: max(-52px, -10vw);
      top: 6px;
      opacity:.96;
      z-index:0;
    }
    .d-butterflies{
      width: min(210px, 46vw);
      left: max(-54px, -10vw);
      top: 0px;
      opacity:.92;
      z-index:0;
    }
    .d-leaf{
      width: min(200px, 42vw);
      right: max(-48px, -10vw);
      bottom: 22px;
      opacity:.95;
      z-index:0;
    }

    /* RSVP */
    .form{
      display:grid;
      gap: 12px;
      margin-top: 10px;
    }
    .input{
      width:100%;
      border: 1px solid rgba(0,0,0,.22);
      border-radius: var(--radius);
      padding: 14px 16px;
      font-size: 16px;
      background: rgba(255,255,255,.45);
      outline:none;
    }
    .input:focus{
      border-color: rgba(180,122,134,.7);
      box-shadow: 0 0 0 3px rgba(180,122,134,.18);
    }

    .radios{
      display:grid;
      gap: 10px;
      margin-top: 4px;
      text-align:left;
      width: min(420px, 100%);
      margin-left:auto;
      margin-right:auto;
    }
    .radio{
      display:flex;
      align-items:center;
      gap: 10px;
      font-size: 18px;
      letter-spacing: .04em;
    }
    .radio input{ transform: scale(1.18); accent-color: var(--rose); }

    .btn{
      border: none;
      border-radius: var(--radius);
      padding: 14px 18px;
      font-size: 18px;
      letter-spacing: .12em;
      text-transform: uppercase;
      background: rgba(180,122,134,.78);
      color:#fff;
      box-shadow: 0 12px 24px rgba(180,122,134,.22);
      cursor:pointer;
      transition: transform .15s ease, filter .15s ease;
    }
    .btn:active{ transform: scale(.99); }
    .btn:hover{ filter: brightness(1.03); }

    .status{
      font-size: 14px;
      color: rgba(0,0,0,.6);
      min-height: 18px;
      text-align:center;
    }

    /* Countdown */
    .countdown{ margin-top: 18px; }
    .count-title{
      text-align:center;
      font-size: 18px;
      letter-spacing: .14em;
      text-transform: uppercase;
      margin: 0 0 10px;
    }
    .digits{
      display:flex;
      justify-content:center;
      gap: 10px;
      flex-wrap:wrap;
    }
    .unit{ min-width: 82px; text-align:center; }
    .flip{
      background: rgba(180,122,134,.70);
      color:#fff;
      border-radius: 14px;
      padding: 12px 10px;
      font-size: 34px;
      line-height: 1;
      box-shadow: 0 14px 26px rgba(180,122,134,.18);
      font-variant-numeric: tabular-nums;
    }
    .lab{
      margin-top: 7px;
      font-size: 13px;
      letter-spacing:.14em;
      text-transform: uppercase;
      color: rgba(0,0,0,.55);
    }

    /* Calendar */
    .cal{
      width:min(420px, 100%);
      margin: 0 auto;
      border-radius: 18px;
      border: 1px solid rgba(0,0,0,.18);
      overflow:hidden;
      background: rgba(255,255,255,.42);
    }
    .cal-head{
      padding: 12px 14px;
      text-align:center;
      font-size: 18px;
      letter-spacing:.14em;
      text-transform: uppercase;
      color: rgba(0,0,0,.65);
      background: rgba(255,255,255,.25);
    }
    .dow, .grid{
      display:grid;
      grid-template-columns: repeat(7, 1fr);
    }
    .dow div{
      padding: 10px 0;
      text-align:center;
      font-size: 13px;
      letter-spacing:.12em;
      text-transform: uppercase;
      color: rgba(0,0,0,.55);
      background: rgba(255,255,255,.25);
    }
    .grid div{
      padding: 12px 0;
      text-align:center;
      font-size: 16px;
      color: rgba(0,0,0,.75);
      border-top: 1px solid rgba(0,0,0,.08);
    }
    .grid div.empty{ color: transparent; }
    .grid div.sel{
      position:relative;
      font-weight:600;
      color: rgba(0,0,0,.85);
    }
    .grid div.sel::after{
      content:"";
      position:absolute;
      left:50%;
      top:50%;
      width: 34px;
      height: 34px;
      transform: translate(-50%,-50%);
      border-radius: 999px;
      background: rgba(180,122,134,.20);
      border: 1px solid rgba(180,122,134,.35);
      z-index:-1;
    }

    /* Map block */
    .mapbtn{
      display:inline-block;
      padding: 14px 22px;
      border-radius: var(--radius);
      text-transform: uppercase;
      letter-spacing: .12em;
      background: rgba(180,122,134,.78);
      color:#fff;
      text-decoration:none;
      box-shadow: 0 12px 24px rgba(180,122,134,.22);
    }

    .sign{
      margin-top: 26px;
      font-size: clamp(34px, 8.5vw, 52px);
    }

    /* ✅ Мобильные правки, чтобы element_5 не "кривил" композицию */
    @media (min-width: 900px){
      .wrap{ width:min(740px, 92vw); }
      .hero-decor{
        top: -90px;
        width: 760px;
      }
    }

    @media (max-width: 420px){
      .hero-decor{
        top: -62px;
        width: 122vw;     /* на телефонах как в референсе — шире экрана */
        max-width: none;  /* важно */
      }
      .unit{ min-width: 74px; }
      .flip{ font-size: 30px; }
    }

    /* Безопасно для очень узких */
    @media (max-width: 360px){
      .caps{ font-size: 16px; }
      .caps.big{ font-size: 18px; }
    }
  </style>
</head>

<body>
  <div class="bg"></div>
  <div class="veil"></div>

  <main class="wrap">

    <!-- HERO -->
    <section class="hero center">
      <div class="hero-inner">
        <!-- ✅ element_5 в самом начале, ровно по центру -->
        <img class="hero-decor fade" src="./element_5.png" alt="">

        <div class="card soft fade d2">
          <div class="script title-name">Латифа</div>
          <p class="caps">1 годик</p>
          <p class="caps big">Тұсаукесер</p>
          <div class="divider"></div>
          <p class="caps">Прокрутите вниз</p>
          <img class="scroll-butterfly" src="./element_1.png" alt="">
        </div>
      </div>
    </section>

    <!-- INVITE TEXT -->
    <section class="center">
      <img class="decor d-butterflies float slow" src="./element_3.png" alt="">
      <img class="decor d-flower-right float" src="./element_2.png" alt="">
      <div class="card fade">
        <div class="script" style="font-size:44px; margin-top:4px;">Дорогие гости!</div>
        <p class="caps black" style="margin-top:14px;">
          С радостью приглашаем Вас<br>
          на первый годик нашей доченьки<br>
          и обряд Тұсаукесер!
        </p>
        <p class="caps black" style="margin-top:14px; opacity:.95;">
          Будем рады разделить с Вами этот день!
        </p>
      </div>
    </section>

    <!-- DATE + CALENDAR -->
    <section class="center">
      <img class="decor d-leaf float slow" src="./element_4.png" alt="">
      <img class="decor d-flower-left float fast" src="./element_1.png" alt="" style="opacity:.0; display:none;">
      <div class="card fade">
        <div class="script" style="font-size:44px;">Дата торжества:</div>

        <!-- ✅ ДАТА: 11 апреля -->
        <p class="caps black" style="margin-top:10px;">
          11 апреля 2026 года<br>
          время 14:00
        </p>

        <div style="height:14px"></div>

        <div class="cal" aria-label="Календарь">
          <div class="cal-head">Апрель 2026</div>
          <div class="dow">
            <div>пн</div><div>вт</div><div>ср</div><div>чт</div><div>пт</div><div>сб</div><div>вс</div>
          </div>
          <div class="grid" id="calendarGrid"></div>
        </div>
      </div>
    </section>

    <!-- RSVP -->
    <section class="center">
      <div class="card fade">
        <p class="caps black" style="font-size:18px;">
          Подтвердите, пожалуйста, своё<br>присутствие:
        </p>

        <form class="form" id="rsvpForm">
          <input class="input" name="name" id="name" type="text" placeholder="ВАШЕ ИМЯ" required>

          <div class="radios">
            <label class="radio">
              <input type="radio" name="attendance" value="Обязательно приду" required>
              Обязательно приду
            </label>
            <label class="radio">
              <input type="radio" name="attendance" value="Приду со второй половинкой">
              Приду со второй половинкой
            </label>
            <label class="radio">
              <input type="radio" name="attendance" value="Не смогу присутствовать">
              Не смогу присутствовать
            </label>
          </div>

          <button class="btn" type="submit">Отправить</button>
          <div class="status" id="status"></div>
        </form>

        <div class="countdown">
          <p class="count-title">До торжества:</p>
          <div class="digits">
            <div class="unit">
              <div class="flip" id="dDays">00</div>
              <div class="lab">дней</div>
            </div>
            <div class="unit">
              <div class="flip" id="dHours">00</div>
              <div class="lab">часов</div>
            </div>
            <div class="unit">
              <div class="flip" id="dMins">00</div>
              <div class="lab">минут</div>
            </div>
            <div class="unit">
              <div class="flip" id="dSecs">00</div>
              <div class="lab">секунд</div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- LOCATION -->
    <section class="center">
      <img class="decor d-flower-right float" src="./element_2.png" alt="" style="top:18px;">
      <img class="decor d-butterflies float slow" src="./element_3.png" alt="" style="left:max(-54px,-10vw); top:70px;">
      <div class="card fade">
        <div class="script" style="font-size:44px;">Место проведения:</div>
        <p class="caps black" style="margin-top:10px;">
          Город Алматы<br>
          улица Керей - Жанибек Хандар, 8<br>
          ресторан "Sabroso"
        </p>

        <p class="caps black" style="margin-top:18px; opacity:.92;">
          Для вашего удобства<br>
          можете воспользоваться картой
        </p>

        <div style="height:8px"></div>

        <a class="mapbtn" target="_blank" rel="noopener"
           href="https://www.google.com/maps/search/?api=1&query=Sabroso%2C%20Kerey%20Zhanibek%20Handar%208%2C%20Almaty">
          Открыть карту
        </a>

        <div class="script sign">С уважением,<br>Болат - Зара</div>
      </div>
    </section>

  </main>

  <script>
    /* =========================
       1) КАЛЕНДАРЬ (Апрель 2026)
       выделяем 11 число
       ========================= */
    (function buildCalendar(){
      const grid = document.getElementById('calendarGrid');
      const year = 2026, monthIndex = 3; // 0=Jan, 3=Apr
      const selectedDay = 11;

      const first = new Date(year, monthIndex, 1);
      const last  = new Date(year, monthIndex + 1, 0);
      const daysInMonth = last.getDate();

      // Monday-first
      const jsDay = first.getDay(); // 0=Sun..6=Sat
      const mondayFirst = (jsDay + 6) % 7;

      const totalCells = mondayFirst + daysInMonth;
      const rows = Math.ceil(totalCells / 7);
      const cells = rows * 7;

      for(let i=0;i<cells;i++){
        const cell = document.createElement('div');
        const dayNum = i - mondayFirst + 1;

        if(dayNum < 1 || dayNum > daysInMonth){
          cell.className = 'empty';
          cell.textContent = '·';
        } else {
          cell.textContent = String(dayNum);
          if(dayNum === selectedDay) cell.classList.add('sel');
        }
        grid.appendChild(cell);
      }
    })();

    /* =========================
       2) ОБРАТНЫЙ ОТСЧЁТ
       11 апреля 2026, 14:00 (UTC+5)
       ========================= */
    const target = new Date('2026-04-11T14:00:00+05:00');

    function pad2(n){ return String(n).padStart(2,'0'); }

    function tick(){
      const now = new Date();
      let diff = target - now;
      if(diff < 0) diff = 0;

      const sec = Math.floor(diff / 1000);
      const days = Math.floor(sec / 86400);
      const hours = Math.floor((sec % 86400) / 3600);
      const mins = Math.floor((sec % 3600) / 60);
      const secs = sec % 60;

      document.getElementById('dDays').textContent  = pad2(days);
      document.getElementById('dHours').textContent = pad2(hours);
      document.getElementById('dMins').textContent  = pad2(mins);
      document.getElementById('dSecs').textContent  = pad2(secs);
    }
    tick();
    setInterval(tick, 1000);

    /* =========================
       3) СОХРАНЕНИЕ В GOOGLE SHEETS
       Таблица: 1FuukSHtopSmB9O97vWkRT6S3yv4caehpxQeg_QytRf4
       ========================= */

    // Вставьте сюда URL Web App (после деплоя Apps Script):
    const APPS_SCRIPT_URL = "PASTE_YOUR_APPS_SCRIPT_WEB_APP_URL_HERE";

    const form = document.getElementById('rsvpForm');
    const statusEl = document.getElementById('status');

    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      statusEl.textContent = "Отправляем…";

      const name = document.getElementById('name').value.trim();
      const attendance = (new FormData(form)).get('attendance');

      const payload = {
        name,
        attendance,
        page: location.href,
        userAgent: navigator.userAgent,
        timestamp: new Date().toISOString()
      };

      try{
        if(!APPS_SCRIPT_URL || APPS_SCRIPT_URL.includes("PASTE_")){
          throw new Error("Не указан APPS_SCRIPT_URL (URL Web App).");
        }

        await fetch(APPS_SCRIPT_URL, {
          method: "POST",
          mode: "no-cors",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(payload)
        });

        statusEl.textContent = "Спасибо! Ответ отправлен ✅";
        form.reset();
      }catch(err){
        statusEl.textContent = "Ошибка: " + err.message;
      }
    });

    /* =========================
       ✅ Google Apps Script (вставить в Apps Script)
       =========================
       function doPost(e) {
         const SHEET_ID = "1FuukSHtopSmB9O97vWkRT6S3yv4caehpxQeg_QytRf4";
         const SHEET_NAME = "Sheet1"; // поменяйте, если лист называется иначе

         const ss = SpreadsheetApp.openById(SHEET_ID);
         const sh = ss.getSheetByName(SHEET_NAME) || ss.getSheets()[0];

         const body = JSON.parse(e.postData.contents);

         // Заголовки (создадутся 1 раз)
         if (sh.getLastRow() === 0) {
           sh.appendRow(["Дата/время (ISO)", "Имя", "Статус", "Страница", "User-Agent"]);
         }

         sh.appendRow([
           body.timestamp || new Date().toISOString(),
           body.name || "",
           body.attendance || "",
           body.page || "",
           body.userAgent || ""
         ]);

         return ContentService
           .createTextOutput(JSON.stringify({ ok: true }))
           .setMimeType(ContentService.MimeType.JSON);
       }
    */
  </script>
</body>
</html>
